## **Linux Fundamentals Quiz – Day 2: Deep Dive**

## 1. Startup Files & Shells

### a) **After logging in via SSH, you want to set an environment variable `EDITOR=vim` for all users. Which file should you edit? Why?**

- **Your answer:**  
    The correct file to set an environment variable for ALL users is in `/etc/environment`. I have to execute sudo before editing the file, as its octal value is 644.
    
- **Commentary:**  
    ✅ Correct! `/etc/environment` is the system-wide file for environment variables, read by all login shells.
    
- **Score:** 1/1
    

---

### b) **How would you make sure a custom `PATH` modification in `.bashrc` is also available in login shells? (Describe the steps.)**

- **Your answer:**  
    Edit the .bashrc file to export custom PATH  
    Check .profile and source from .bashrc  
    source profile to apply or reload shell.
    
- **Commentary:**  
    ⚠️ _Partial credit._
    
    - `.bashrc` is not sourced in login shells by default.
        
    - The right way: Source `.bashrc` from `.profile` (or `.bash_profile`). Example:
        
        `echo 'if [ -f ~/.bashrc ]; then . ~/.bashrc; fi' >> ~/.profile`
        
    - Sourcing `.profile` is only needed for the current shell; new login shells pick up the changes automatically.
        
- **Score:** 0.5/1
    

---

### c) **What is the difference between `.bash_profile` and `.bashrc` on a fresh Ubuntu system?**

- **Your answer:**
    
    - `.bashrc`: Present in most Ubuntu systems, executed for interactive non-login shells (like opening a new terminal window).
        
    - `.bash_profile`: May not be present by default; used for login shells (like SSH). Usually sources `.bashrc`.
        
    - `.profile`: Default for login shells if `.bash_profile` doesn’t exist. Can source `.bashrc` too.
        
- **Commentary:**  
    ✅ Excellent, covers all the nuances!
    
- **Score:** 1/1
    

---

## 2. User/Group & Permissions

### a) **Make a new group `security` and add user `alice` to it. Show commands.**

- **Your answer:**
    
    
    `sudo groupadd security getent groups security sudo useradd alice sudo usermod alice -aG security` 
    
- **Commentary:**  
    ✅ All commands correct. For adding to a group: `sudo usermod -aG security alice` (order is group, then user).
    
- **Score:** 1/1
    

---

### b) **What’s the octal permission for: Owner (rw), Group (r), Others (none)? Set on `secret.txt`.**

- **Your answer:**
    
    - Owner: read, write = 6
        
    - Group: read only = 4
        
    - Others: no permissions = 0
        
    - (referred to a screenshot)
        
- **Correct command:**
    
    `chmod 640 secret.txt`
    
- **Commentary:**  
    ✅ You got the concept and octal correct; just missing the explicit command.
    
- **Score:** 0.8/1
    

---

### c) **Change ownership of `/opt/notes.txt` to user `bob` and group `security` in one command.**

- **Your answer:**
    
    `sudo chown bob:security /opt/notes.txt` 
    
- **Commentary:**  
    ✅ Perfect.
    
- **Score:** 1/1
    

---

## 3. Networking

### a) **Show all processes listening on any port using `ss`.**

- **Your answer:**  
    `ss -a`
    
- **Commentary:**  
    ⚠️ This shows _all_ sockets, not just listening. For listening, use `ss -ltnp`.  
    Still, `ss -a` does show all connections, so half credit.
    
- **Score:** 0.5/1
    

---

### b) **Display all established TCP connections with `netstat`.**

- **Your answer:**  
    `netstat -a`
    
- **Commentary:**
    
    - `netstat -a` shows all connections, not just established.
        
    - For only established: `netstat -tn | grep ESTABLISHED`
        
- **Score:** 0.5/1
    

---

### c) **What does `lsof -i tcp:22` output? Give a real-world scenario where this helps.**

- **Your answer:**  
    lists all opened files -i means file type of ipv4 running on tcp:22
    
- **Commentary:**
    
    - More precisely: Lists all processes with an open TCP socket on port 22 (SSH).
        
    - Useful for seeing what process is using SSH, e.g., for troubleshooting or checking for unauthorized SSH daemons.
        
- **Score:** 0.5/1
    

---

## 4. Text Manipulation

### a) **Print the second column of a colon-separated file `/etc/passwd` for all users using `awk`.**

- **Your answer:**  
    `awk 'print {$1,$2}' /etc/passwd`
    
- **Commentary:**  
    ❌ Syntax is wrong. Correct command:
    
    bash
    
    CopyEdit
    
    `awk -F: '{print $2}' /etc/passwd`
    
- **Score:** 0/1
    

---

### b) **Replace all lowercase "a" with uppercase "A" in `data.txt` using `tr`.**

- **Your answer:**  
    `tr "a" : "A" data.txt`
    
- **Commentary:**  
    ❌ Incorrect syntax and usage. Should be:
    
    bash
    
    CopyEdit
    
    `tr 'a' 'A' < data.txt`
    
- **Score:** 0/1
    

---

### c) **Delete all lines containing "test" (case-insensitive) from `sample.txt` using `sed`.**

- **Your answer:**  
    `sed '/test/d' sample.txt`
    
- **Commentary:**
    
    - Works for case-sensitive.
        
    - For case-insensitive and in-place, use:
        
        bash
        
        CopyEdit
        
        `sed -i '/test/Id' sample.txt`
        
    - Your answer is acceptable for basic usage.
        
- **Score:** 0.8/1
    

---

## 5. Troubleshooting / Misc

### a) **You edited `.bashrc` but changes aren’t taking effect. What’s the fix?**

- **Your answer:**  
    need to reboot or source it with `source .bashrc`
    
- **Commentary:**  
    ✅ Spot on. Just sourcing `.bashrc` is enough for most cases.
    
- **Score:** 1/1
    

---

### b) **`chmod 754 script.sh` — what access does each class (owner/group/others) have?**

- **Your answer:**  
    owner has full so rwx; the group has rx; and the others have read.
    
- **Commentary:**  
    ✅ Correct.
    
    - owner: rwx (7)
        
    - group: r-x (5)
        
    - others: r-- (4)
        
- **Score:** 1/1
    

---

### c) **See if a process called `backup` is running. Two different commands.**

- **Your answer:**  
    `ps | grep 'backup'` or `pgrep backup`
    
- **Commentary:**  
    ✅ Both are fine.
    
- **Score:** 1/1
    

---

## BONUS

### **Show a one-liner to count the number of unique users in `/etc/passwd`.**

- **Your answer:**  
    _(blank)_
    
- **Correct answer:**
    
    bash
    
    CopyEdit
    
    `cut -d: -f1 /etc/passwd | sort | uniq | wc -l`
    
- **Commentary:**  
    ❌ Not answered.
    
- **Score:** 0/1
    

---

# Final Score: **11.6/15** (**77%**)

## **Summary of Strengths & Weaknesses**

- **Strengths:**
    
    - Understanding of permissions and user/group management.
        
    - Clear grasp of shell startup files.
        
    - Confident with troubleshooting and most commands.
        
- **Weaknesses:**
    
    - Command syntax for `awk`, `tr`, `sed`.
        
    - Some answers lack precision or detail (networking/tools).
        
    - Missed the bonus one-liner.
        

**To improve:** Practice writing and running these commands _exactly_ as they work in your VM. Precision matters!